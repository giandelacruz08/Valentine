<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hey</title>
<style>
body { margin:0; font-family:'Segoe UI', sans-serif; display:flex; align-items:center; justify-content:center; min-height:100vh; background:#f4f4f4; overflow:hidden; }
.card { background:rgba(255,255,255,0.95); padding:1.5rem; border-radius:16px; text-align:center; width:90%; max-width:400px; display:flex; flex-direction:column; align-items:center; box-shadow:0 15px 40px rgba(0,0,0,0.2); animation:fadeIn 1.2s ease; position:relative; }
h1{margin:0.5rem 0;color:#333;} h2{margin:0.5rem 0;color:#e63946;} img{max-width:90%; max-height:60vh; object-fit:contain; border-radius:12px; margin:1rem 0;}
button{padding:10px 22px;border:none;border-radius:24px;cursor:pointer;font-size:0.95rem;background:#333;color:#fff;transition:0.2s;}
button:hover{transform:scale(1.05); background:#e63946;}
#overlay{position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.95); display:flex; align-items:center; justify-content:center; flex-direction:column; z-index:9999;}
@keyframes fadeIn {from{opacity:0; transform:translateY(15px);} to{opacity:1; transform:translateY(0);}}
</style>
</head>
<body>

<div class="card" id="firstPage">
  <h1>Hi love!</h1>
  <p>I wanted to show you something.</p>
  <p>Click below when you're ready ‚ò∫Ô∏è</p>
  <button id="revealBtn">Continue</button>
</div>

<!-- Audio -->
<audio id="bgMusic" preload="auto">
  <source src="audio/audiounchained-melody.mp3" type="audio/mpeg">
</audio>

<!-- Overlay to ensure music can play -->
<div id="overlay" style="display:none;">
  <p>Tap anywhere to start your song ‚ù§Ô∏è</p>
</div>

<script>
window.addEventListener("DOMContentLoaded", function() {
  const revealBtn = document.getElementById("revealBtn");
  const audio = document.getElementById("bgMusic");
  const overlay = document.getElementById("overlay");

  audio.volume = 0.6;
  audio.load();

  // Fail-safe: Show overlay first
  revealBtn.addEventListener("click", function() {
    overlay.style.display = "flex";

    function startMusic() {
      audio.play().then(()=> {
        console.log("Music started!");
        overlay.style.display = "none";

        // Now remove first card and show second card
        const firstPage = document.getElementById("firstPage");
        firstPage.style.display = "none";

        document.body.style.background = "linear-gradient(135deg,#ff9a9e,#fecfef,#a18cd1,#fbc2eb)";
        buildSecondCard();

      }).catch(err=>{
        console.log("Playback blocked:", err);
      });

      // Remove the click listener so it only fires once
      document.removeEventListener("click", startMusic);
    }

    document.addEventListener("click", startMusic);
  });

  function buildSecondCard() {
    const card = document.createElement("div");
    card.className = "card";
    const title = document.createElement("h1"); title.textContent = "Inah, my love ü´∂";
    const subtitle = document.createElement("h2"); subtitle.textContent = "Will you be my Valentine? üíò";
    const img = document.createElement("img"); img.src="images/picture.jpg";

    const btnContainer = document.createElement("div"); btnContainer.className="btn-container";
    const yesBtn = document.createElement("button"); yesBtn.textContent="Yurr üíñ";
    const noBtn = document.createElement("button"); noBtn.textContent="Naurr üòù"; noBtn.id="noBtn";

    btnContainer.appendChild(yesBtn); btnContainer.appendChild(noBtn);
    card.appendChild(title); card.appendChild(subtitle); card.appendChild(img); card.appendChild(btnContainer);
    document.body.appendChild(card);

    // NO button runs
    noBtn.onmouseover = noBtn.ontouchstart = function(){
      noBtn.style.position="fixed";
      const vw=window.innerWidth-noBtn.offsetWidth;
      const vh=window.innerHeight-noBtn.offsetHeight;
      noBtn.style.left=Math.random()*vw+"px";
      noBtn.style.top=Math.random()*vh+"px";
    };

    // YES button
    yesBtn.onclick=function(){
      audio.pause();
      document.body.innerHTML="";
      document.body.style.background="linear-gradient(135deg,#ff758c,#ff7eb3,#fad0c4)";
      const finalCard=document.createElement("div"); finalCard.className="card";
      const t=document.createElement("h1"); t.textContent="YAY!!! ü´∂üíïüíñ";
      const gif=document.createElement("img"); gif.src="images/kim.gif";
      const m1=document.createElement("p"); m1.style.fontSize="1.3rem"; m1.textContent="Happy Valentine's, my love ü•∞";
      const m2=document.createElement("p"); m2.style.fontSize="1.1rem"; m2.textContent="All you have to do is show up and dress nicely, I've planned everything for us. See you at home üíò";
      finalCard.appendChild(t); finalCard.appendChild(gif); finalCard.appendChild(m1); finalCard.appendChild(m2);
      document.body.appendChild(finalCard);
    };
  }
});
</script>

</body>
</html>
